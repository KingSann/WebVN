<!doctype html>
<html>
<head>
<head>
    <meta charset="utf-8">
    <base href="../../" target="_blank">
    <title>Canvas</title>
        <script src="engine/webvn.js" data-build="test"></script>
    </head>
</head>
<body>
<div class="center">
    <div id="webvn">
        <canvas id="test" class="fill" width="1280" height="720"></canvas>
    </div>
</div>
<script>
    WebVN.call(function (canvas, anim) {
        var scene = canvas.createScene(document.getElementById('test'));
        var img = new canvas.ImageEntity();
        var img2 = new canvas.ImageEntity();
        img2.load('/asset/fg/fg1.png', 2000);
        img.load('/asset/bg/corridor.jpg', 2000);
        img2.x = 400;
        img2.y = 100;
        scene.add(img);
        scene.add(img2);
        canvas.renderer.add(scene);
        setTimeout(function () {
            setTimeout(function () {
                img.load('/asset/bg/living_room.jpg', 2000);
            }, 2000);
            var myTween = anim.create(img);
            myTween.loop = true;
            myTween.to({
                x: 200
            }, 3000, 'inElastic').call(function () {
                console.log('finish');
            }).to({
                x: 0,
                y: 200
            }, 3000, 'inElastic').wait(1000).to({
                y: 0
            }, 1000);
        }, 0);
        setTimeout(function () {
            img2.load('/asset/fg/fg2.png', 2000);
        }, 4000);
    });
</script>
</body>
</html>